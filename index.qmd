---
title: "Estimación de profundidad de disco de Secchi para el desarrollo de un algoritmo mediante técnicas de teledetección satelital"
format: 
  html:
    number-sections: true
    toc: true
    embed-resources: true
    crossrefs-hover: false
    css: style.css
    lang: es
    bibliography: bibliografia/bibliografia.bib
    csl: bibliografia/ieee.csl
    cap-location: bottom
date: last-modified

language: 
  title-block-author-single: "Autor"

author:
  - name: Mauricio Acosta
    orcid: 
    corresponding: true
    email: mauriba491@gmail.com
    affiliations:
      - name: GISTAQ (UTN-FRRe)
        url: https://www.instagram.com/gistaq.utn/

abstract: |
  Este sitio web contiene cuestiones relacionadas a la estimación de la profundidad de disco de Secchi mediante técnicas de sensado remoto. Se presenta información proveniente de investigaciones previas y se discute la confección de modelos de regresión  mediante código de programación así como su evaluación mediante pruebas estadísticas.
keywords:
  - GISTAQ
  - UTN
  - FRRe
  - Quarto
---

# Revisión bibliográfica

Esta revisión tiene como objetivo identificar los enfoques más comunes en la literatura, los tipos de datos utilizados y las variables espectrales que se consideran más relevantes para este tipo de estimaciones.

## Profundidad de disco de Secchi

La profundidad de visibilidad del disco de Secchi $(SDD)$ es una medida ampliamente utilizada para evaluar la transparencia del agua. Se define como la profundidad en metros a la cual un disco blanco circular desaparece al dejarlo descender en un cuerpo de agua.

Esta variable es un indicador indirecto de la calidad del agua, ya que se relaciona con la concentración de sedimentos en suspensión, fitoplancton y otros materiales particulados. Continua siendo utilizado debido a la simplicidad y rango de aplicación universal del método, además de tratarse de un parámetro fácilmente entendible por el público.

## Métodos tradicionales de estimación

En las últimas décadas, se han desarrollado múltiples ecuaciones empíricas y modelos basados en datos in situ y sensores remotos para estimar esta profundidad de manera eficiente y a gran escala. El objetivo de recopilar es identificar patrones comunes, variables predictoras relevantes y estrategias metodológicas empleadas.

| Nombre                 | Variable           | Formula                                 | Muestras | R²   |
|------------------------|--------------------|-----------------------------------------|----------|------|
| Dekker and Peters      | $\mathrm{ln(SDD)}$ | $\mathrm{ln(Red)}$                      | 15       | 0.86 |
| Dominguez Gomez et al. | $\mathrm{SDD}$     | $\mathrm{(Green)^x}$                    | 16       | 0.90 |
| Giardino et al.        | $\mathrm{SDD}$     | $\mathrm{Blue/Green}$                   | 4        | 0.85 |
| Kloiber et al.         | $\mathrm{ln(SDD)}$ | $\mathrm{Blue/Red + Blue}$              | 374      | 0.93 |
| Lathrop and Lillesand  | $\mathrm{ln(SDD)}$ | $\mathrm{Green}$                        | 9        | 0.98 |
| Mancino et al.         | $\mathrm{SDD}$     | $\mathrm{Red/Green + Blue/Green + Blue}$| 60       | 0.82 |


: Tabla 1: Algoritmos publicados para la predicción de $\mathrm{SDD}$ utilizando la plataforma Landstat @Rubin. {.striped .hover .responsive}

En la mayoría de los casos la relación entre $SDD$ y la intensidad de la luz es no lineal, por lo que se utiliza $ln(SDD)$ para realizar la regresión.

La correlación con la banda roja puede explicarse causalmente por la correlación positiva directa entre la reflectancia en el rojo y la carga bruta de partículas que induce la dispersión de partículas. De manera que mientras que la claridad del agua $(SDD)$ desciende, la intensidad en el rojo aumenta @Matthews.

Como referencia se presentan las propiedades de las distintas bandas de la plataforma espacial Sentinel-2:

|  |  | Sentinel-2A | | Sentinel-2B | |
|:--|--:|--:|--:|--:|--:|
| **Banda** | **Resolución espacial (m)** | **Longitud de onda (nm)** | **Ancho de banda (nm)** | **Longitud de onda (nm)** | **Ancho de banda (nm)** |
| $\mathrm{B01}$ (aerosol) | 60 | 442.7 | 20 | 442.3 | 20 |
| $\mathrm{B02}$ (blue) | 10 | 492.7 | 65 | 492.3 | 65 |
| $\mathrm{B03}$ (green) | 10 | 559.8 | 35 | 558.9 | 35 |
| $\mathrm{B04}$ (red) | 10 | 664.6 | 38 | 664.9 | 31 |
| $\mathrm{B05}$ (red edge) | 20 | 794.1 | 14 | 703.8 | 15 |
| $\mathrm{B06}$ | 20 | 748.5 | 14 | 739.1 | 13 |
| $\mathrm{B07}$ | 20 | 782.8 | 19 | 779.7 | 19 |
| $\mathrm{B08}$ (NIR) | 10 | 832.8 | 105 | 832.9 | 104 |
| $\mathrm{B8A}$ | 20 | 864.7 | 21 | 864.0 | 21 |
| $\mathrm{B09}$ | 60 | 945.1 | 19 | 943.2 | 20 |
| $\mathrm{B10}$ | 60 | 1373.5 | 29 | 1376.9 | 29 |
| $\mathrm{B11}$ (SWIR 1) | 20 | 1613.7 | 90 | 1616.4 | 94 |
| $\mathrm{B12}$ (SWIR 2) | 20 | 2292.4 | 174 | 2185.7 | 184 |

: Tabla 2: Propiedades de las bandas S2-MSI, para las plataformas S2A y S2B. {.striped .hover .responsive tbl-colwidths="[20,20,15,15,15,15]"}

## Regresión lineal

En estadística, la regresión lineal es un modelo matemático usado para aproximar la relación de dependencia entre una variable dependiente $Y$ con $m$ variables independientes $X_i$. Este modelo puede ser expresado como:

$$ Y = \beta_0 +  \beta_1 X_1 + \cdots + \beta_m X_m$$

donde:

- $Y$ es la variable dependiente o variable de respuesta.
- $X_1,X_2,...X_m$ son las variables explicativas, independientes o regresoras.
- $\beta_0,\beta_1,\beta_2,...\beta_m$ son los parámetros del modelo, miden la influencia que las variables explicativas tienen sobre el regrediendo.

### Selección de variables

La seleccion de variables y características es el foco de mucha investigación. El objetivo de la selección de variables es mejorar el rendimiento de predicción de los predictores y proporcionar una mejor comprensión del proceso subyacente que generó los datos. 

La identificación de las variables más relevantes para incluir o excluir en un modelo predictivo es un paso fundamental en cualquier investigación rigurosa, especialmente cuando se busca construir modelos con alto poder explicativo y capacidad de generalización. 

Comprender qué variables contribuyen en mayor medida a la calidad de las predicciones permite no solo mejorar el desempeño del modelo, sino también interpretar con mayor claridad los fenómenos que se están estudiando.

No existe una forma segura de definir la importancia de una variable puesto que la utilidad de la misma depende del modelo implementado y de las demás variables con las que interactua: una variable que es completamente inutil por si misma puede resultar en una mejora del rendimiento significativa cuando es considerada junto con otras variables @guyon2003introduction. 

A pesar de las dificultades existen estrategias útiles para determinar un subconjunto de variables útiles para la predicción. Tal es el caso de los métodos *forward selection* y *backwards elimination*. En *forward selection*, las variables son progresivamente incorporadas, evaluando el modelo al paso de cada una, mientras que en *backwards elimination* uno empieza con el conjunto entero de variables y progresivamente elimina las menos prometedoras.

Una forma de implementación de *forward selection* es por empezar por un modelo exento de variables independientes, pero cuyo término independiente sea la media de las variables de respuesta. A partir de este valor se calcula el residuo como la diferencia entre el valor verdadero $Y$ y el valor predecido $Y_{pred}$.

$$r = Y - Y_{pred}$$

Seguidamente, se computa la correlación entre cada variable independiente $X_i$ con el residuo y se incorpora al modelo la variable con la mayor correlación absoluta. El proceso se repite esta vez con las predicciones del nuevo modelo y se continua hasta alcanzar una desempeño deseado o un número determinado de variables. Este método fue utilizado satisfactoriamente en investigaciones previas @BONANSEA2019102265.

![Fig. 1: Matriz de correlación entre las distintas bandas.](img/heatmap.svg){width=80%}

Una herramienta útil para ayudar en la selección de variables es una matriz de correlación. Dos variables prefectamente correlacionadas resultan redundantes en el sentido de que añadir ambas no aporta información adicional. Sin embargo, una correlación muy alta entre variables (o anti-correlación) no significa ausencia de complementariedad.

# Materiales y métodos

Al momento de publicación se realizaron mediciones in-situ de profundidad de disco de Secchi sobre 46 puntos a lo largo de la transecta sobre el río Paraná. Utilizando los datos provistos por la plataforma espacial Sentinel-2 se accede a las características espectrales del agua en dichos puntos de muestreo. Los datos recolectados se agrupan en una tabla de la siguiente manera:

| $\mathrm{SDD}$  | $\mathrm{B01}$  | $\mathrm{B02}$  | $\cdots$  | $\mathrm{B12}$  | $\mathrm{B8A}$  |
| :--------------:| :--------------:| :--------------:| :--------:| :--------------:| :--------------:|
| 10              | 0,1728          | 0,1754          | $\cdots$  | 0,1404          | 0,1869          |
| 15              | 0,1497          | 0,17022         | $\cdots$  | 0,1113          | 0,1567          |
| $\vdots$        | $\vdots$        | $\vdots$        | $\cdots$  | $\vdots$        | $\vdots$        |
| 125             | 0,1571          | 0,1563          | $\cdots$  | 0,1419          | 0,1436          |
| 135             | 0,1503          | 0,1591          | $\cdots$  | 0,1420          | 0,1454          |

: Tabla 3: Datos recolectados. {.striped .hover .responsive}

## Librerías

Para regresión lineal se usan principalmente las librerías de Python *numpy*, *pandas* y *Scikit-learn*.

- **Scikit-learn**: está en el corazón de las operaciones de ciencias de datos en Python. Ofrece módulos para procesamiento de datos, aprendizaje supervisado y no supervisado, selección y validación de modelos, y métricas de error.
- **pandas**: especializada en la manipulación y el análisis de datos. Ofrece estructuras de datos y operaciones para manipular tablas numéricas y series temporales.
- **numpy**: provee al usuario con arreglos multidimensionales, junto a un gran conjunto de funciones para operar en estos.
